{% for message in messages %}
<div class="mb-3 {% if message.role == 'user' %}text-end{% endif %}">
    <div class="d-inline-block p-3 rounded-3 {% if message.role == 'user' %}bg-primary text-white{% else %}bg-light{% endif %}" 
         style="max-width: 75%;">
        <div class="mb-1">
            <strong>{% if message.role == 'user' %}You{% else %}Coach{% endif %}</strong>
        </div>
        <div style="white-space: pre-wrap;">{{ message.content }}</div>
        <div class="mt-2">
            <small class="{% if message.role == 'user' %}text-white-50{% else %}text-muted{% endif %}">
                {{ message.created_at.strftime('%H:%M') }}
            </small>
        </div>
    </div>
</div>
{% endfor %}